---
title: Confirmar asistencia
menu: confirmar-asistencia
layout: default
---

<!-- Section: Contact  -->
<section id="contact" class="divider parallax layer-overlay overlay-dark-8" data-stellar-background-ratio="0.5"
	data-bg-img="{{'/assets/fotos/unsplash/mesa.webp'| relative_url}}">
	<div class="container">
		<!-- Section Content -->
		<div class="section-content">
			<div class="row">
				<div class="col-md-12 text-white text-center">
					<h1 class="mt-0 mb-30 text-theme-colored">¿Contamos contigo?</h1>
					<p>¡Es muy importante que nos confirmes todo cuanto antes para poder organizar mucho mejor la boda!
					</p>
					<p>Hemos creado este formulario para ayudarte a realizar la confirmación.</p>
					<p>Para ello, sólo tienes que rellenar todas las opciones y al hacer click en el botón de enviar, se
						te abrirá WhatsApp para que puedas enviárnoslo.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6 col-md-offset-3 text-white">
					<form id="subscription-form" class="form-transparent form-text-white">
						<div class="row">
							<div class="col-sm-12">
								<div class="form-group">
									<label class="form-label" for="form_nombre">Nombre</label>
									<input type="text"
										placeholder="del que confirma la asistencia de una o más personas"
										id="form_nombre" name="form_nombre" required class="form-control">
								</div>
							</div>
							<div class="col-sm-12">
								<div class="form-group">
									<label class="form-label">Seremos</label>
									<div class="ml-30">
										<label class="form-label" for="form_num_adultos">Adultos</label>
										<input type="number" id="form_num_adultos" name="form_num_adultos" required
											min="1" max="10" class="form-control">
										<label class="form-label mt-10" for="form_num_niños">Niños (con menú
											infantil)</label>
										<input type="number" id="form_num_niños" name="form_num_niños" required min="0"
											max="10" value="0" class="form-control">
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="form-group">
									<div class="styled-select">
										<label class="form-label" for="form_asistencia">Confirmo asistencia</label>
										<select id="form_asistencia" name="form_asistencia" required
											class="form-control">
											<option value="sí">Sí</option>
											<option value="no">No</option>
										</select>
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="form-group">
									<div class="styled-select">
										<label class="form-label" for="form_menu_especial">Menú especial</label>
										<select id="form_menu_especial" name="form_menu_especial" required
											class="form-control">
											<option value="no">No</option>
											<option value="diabetico">Diabético</option>
											<option value="vegano">Vegano</option>
											<option value="vegetariano">Vegetariano</option>
											<option value="alergia">Alergia / intolerancia (especificar en comentarios)
											</option>
										</select>
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="form-group">
									<div class="styled-select">
										<label class="form-label" for="form_autobus">Autobús</label>
										<select id="form_autobus" name="form_autobus" required class="form-control">
											<option value="no">No</option>
											<option value="sí">Sí</option>
										</select>
									</div>
									<div class="mt-10 ml-30 hidden" id="form_autobus_options">
										<span>
											<input type="radio" name="form_autobus_value" value="Ávila → Navalcarnero → Finca La Peraleña → Ávila">
											Ávila → Navalcarnero → Finca La Peraleña → Ávila
											<br />
											<i class="ml-20">salida a las 14:30h y regreso a las 05:30h</i>
										</span>
										<br />
										<span>
											<input type="radio" name="form_autobus_value" value="Navalcarnero → Finca La Peraleña → Navalcarnero">
											Navalcarnero → Finca La Peraleña → Navalcarnero
											<br />
											<i class="ml-20">salida a las 18:30h y regreso a las 05:30h</i>
										</span>
										<br />
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="form-group">
									<label class="form-label" for="form_comentarios">Comentarios</label>
									<textarea id="form_comentarios"
										placeholder="Indica aquí cualquier cosa que consideres importante para que la tengamos en cuenta"
										name="form_comentarios" class="form-control required" rows="5"></textarea>
								</div>
							</div>
							<div class="col-sm-12 mb-10 text-center">
								<button type="submit" name="phone_to" value="raquel" class="btn btn-colored btn-theme-colored btn-lg btn-submit"
									data-loading-text="Espera..."><i class="fa fa-brands fa-whatsapp"></i>
									Enviar por WhatsApp a <b>Raquel</b></button>
							</div>
							<div class="col-sm-12 mb-10 text-center">
								<button type="submit" name="phone_to" value="javier" class="btn btn-colored btn-theme-colored btn-lg btn-submit" data-loading-text="Espera..."><i
										class="fa fa-brands fa-whatsapp"></i>
									Enviar por WhatsApp a <b>Javier</b></button>
							</div>
						</div>
					</form>
					<!-- rsvp Form Validation-->
					<script type="text/javascript">

						$('#form_autobus').on('change', function(e){
							console.log($('#form_autobus').val())
							if($('#form_autobus').val() =='sí'){
								$('#form_autobus_options').removeClass('hidden')
							}else{
								$('#form_autobus_options').addClass('hidden')
							}
						})
						$('#subscription-form').on('submit', function (e) {

							e.preventDefault();
							const $form = $("#subscription-form");

							const phone_to = $form.find('button[type="submit"][name="phone_to"]:focus').val()
							const phone = phone_to == 'raquel' ? '675493021' : '670988939';
							const phone_name = phone_to == 'raquel' ? 'Raquel' : 'Javier';

							// get object i.e {key: 'value'} of form
							let data = {}
							$form.serializeArray().forEach(v => data[v.name] = v.value)

							// make the ?text= payload, 
							const text =
								`Hola ${phone_name}, he rellenado el formulario de asistencia a través de vuestra página web:
*Nombre*: ${data.form_nombre}
*Somos*: ${data.form_num_adultos} adulto/s y ${data.form_num_niños} niño/s
*Confirmo asistencia*: ${data.form_asistencia}
*Menú especial*: ${data.form_menu_especial}
*Autobús*: ${data.form_autobus}
	${data.form_autobus=='sí' ? data.form_autobus_value : ''}
*Comentarios*: ${data.form_comentarios}
`.replaceAll('	\n', '');//usamos el replace all para eliminar las opciones de buses vacias
							// make the url
							const action = "https://wa.me/" + phone + "?text=" + window.encodeURIComponent(text);
							window.open(action);
						});	
					</script>
					<!-- rsvp Form Ends -->
				</div>
			</div>
		</div>
	</div>
</section>